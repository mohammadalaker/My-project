# حل مشكلة Vercel — خطوة بخطوة

اتبع الخطوات **بالترتيب**. السبب الأكثر شيوعاً لعدم عمل الموقع هو أن Vercel يبني المشروع من **المجلد الخاطئ**.

---

## الخطوة 1: التأكد من مجلد الجذر (Root Directory)

1. ادخل إلى **https://vercel.com/dashboard**
2. افتح **المشروع** الذي يعرض موقعك (الرابط مثل `my-project-delta-topaz.vercel.app`)
3. من القائمة الجانبية: **Settings** → **General**
4. ابحث عن **Root Directory**
   - إذا كان **فارغاً** أو يظهر مجلداً غير `my-website` ← هذا سبب المشكلة
   - اضغط **Edit**
   - اكتب بالضبط: **my-website** (بدون شرطة مائلة في البداية أو النهاية، بدون مسافات)
   - اضغط **Save**

---

## الخطوة 2: التحقق أن النشر من المجلد الصحيح

بعد حفظ Root Directory وتشغيل نشر جديد:

1. افتح رابط موقعك، ثم أضف في نهاية الرابط: **/vercel-ok.txt**  
   مثال: `https://my-project-delta-topaz.vercel.app/vercel-ok.txt`
2. اضغط Enter:
   - **إذا ظهر نص مثل "my-website" و "If you see this file..."** ← النشر من مجلد `my-website` وهو الصحيح. انتقل للخطوة 3.
   - **إذا ظهر 404 أو صفحة أخرى** ← النشر ما زال من مجلد خاطئ. راجع الخطوة 1 وتأكد أن Root Directory = **my-website** ثم أعد النشر (Redeploy).

---

## الخطوة 3: إعادة النشر بعد تغيير Root Directory

بعد تغيير Root Directory **يجب** إعادة النشر حتى يُبنى المشروع من المجلد الجديد:

1. اذهب إلى **Deployments**
2. اضغط على **⋯** بجانب آخر نشر
3. اختر **Redeploy**
4. انتظر حتى تنتهي العملية (Building → Ready)

ثم افتح رابط الموقع من جديد (بدون /vercel-ok.txt).

---

## الخطوة 4: إذا استمرت الصفحة بيضاء

1. افتح الموقع ثم اضغط **F12** لفتح أدوات المطوّر
2. تبويب **Console**: انظر إن كان هناك رسالة خطأ باللون الأحمر. انسخها.
3. تبويب **Network**: حدّث الصفحة (F5). ابحث عن طلب لملف ينتهي بـ **.js** (مثل `index-xxxxx.js`):
   - إذا كان **404** ← المسار خاطئ أو البناء لم يُنتج الملفات. تأكد من الخطوة 1 و 3.
   - إذا كان **200** لكن الصفحة بيضاء ← أرسل نص الخطأ من تبويب Console.

---

## ملخص الإعدادات المطلوبة في Vercel

| الإعداد | القيمة |
|---------|--------|
| **Root Directory** | `my-website` |
| Build Command | (يأتي من vercel.json: `npm run build`) |
| Output Directory | `dist` |
| Framework Preset | Vite |

---

## ملفات تم تعديلها لحل Vercel

- **vercel.json**: إضافة `rewrites` بحيث لا تُعاد كتابة مسارات `/assets/` (حتى تُحمّل ملفات JavaScript بشكل صحيح)، مع الإبقاء على إرجاع `index.html` لبقية المسارات.
- **public/vercel-ok.txt**: ملف للتحقق أن النشر من مجلد `my-website`.
- **package.json**: إضافة `engines.node` لاستخدام Node 18 أو أحدث.

بعد تنفيذ الخطوات 1–3، إن استمرت المشكلة صف ما يحدث (مثلاً: "صفحة بيضاء"، "404 على /vercel-ok.txt"، أو رسالة الخطأ من Console) وسنكمل التشخيص.
